<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>My Purple Hub — проекты, приложения, отзывы, поддержка</title>
  <meta name="description" content="Фиолетовый хаб с каталогом моих приложений, портфолио, отзывами и поддержкой. Скачивай, читай, поддержи развитие." />
  <meta property="og:title" content="My Purple Hub — мои проекты" />
  <meta property="og:description" content="Каталог приложений, портфолио, отзывы и поддержка." />
  <meta name="theme-color" content="#6f35ff" />
  <style>
    :root{
      --bg: #0b0714;
      --bg-2: #0e0a1b;
      --card: #100a1f;
      --surface: #130c26;
      --fg: #f6f1ff;
      --muted: #cbb6ff;
      --brand: #8b5cf6;
      --brand-2:#6d28d9;
      --brand-3:#b794f4;
      --accent:#a78bfa;
      --accent-2:#7c3aed;
      --accent-3:#c4b5fd;
      --glass: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.12);
      --border-2: rgba(167,139,250,.25);
      --shadow: 0 10px 40px rgba(123, 97, 255, .2);
      --shadow-lg: 0 20px 60px rgba(123, 97, 255, .3);
      --radius: 20px;
      --radius-sm: 16px;
      --radius-xs: 12px;
      --maxw: 1240px;
      --speed: .3s;
      --header-h: 76px;
      --safe-b: env(safe-area-inset-bottom, 0px);
    }
    
    *{box-sizing:border-box; margin:0; padding:0}
    
    html{
      scroll-behavior:smooth;
      -webkit-text-size-adjust: 100%;
    }
    
    html,body{
      height:100%;
      overflow-x:hidden;
    }
    
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, sans-serif;
      color:var(--fg);
      background: #0a0712;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
    }
    
    /* Улучшенный фон без разрывов */
    body::before{
      content: "";
      position: fixed;
      inset: 0;
      z-index: -2;
      background:
        radial-gradient(ellipse 1400px 700px at 10% 0%, rgba(42, 27, 87, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse 1200px 600px at 90% 20%, rgba(59, 30, 125, 0.35) 0%, transparent 50%),
        radial-gradient(ellipse 1000px 500px at 50% 100%, rgba(42, 27, 87, 0.3) 0%, transparent 50%),
        linear-gradient(180deg, #0a0712 0%, #0d0819 40%, #130a25 100%);
      will-change: transform;
    }
    
    a{color:inherit; text-decoration:none; transition: color var(--speed) ease}
    a:hover{color: var(--accent-3)}
    img{max-width:100%; display:block; height: auto}
    button{font-family: inherit; cursor: pointer}
    
    .sr-only{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0
    }

    .container{
      max-width:var(--maxw); 
      margin:0 auto; 
      padding:0 clamp(16px, 4vw, 32px);
      width: 100%;
    }

    /* HEADER - улучшенный */
    header{
      position:sticky; 
      top:0; 
      z-index:60; 
      backdrop-filter: blur(16px) saturate(180%);
      background: rgba(16,10,31,.75);
      border-bottom:1px solid var(--border);
      height:var(--header-h);
      transition: background var(--speed) ease;
    }
    
    .progress{
      position:absolute; 
      left:0; 
      right:0; 
      top:0; 
      height:3px; 
      background:linear-gradient(90deg, var(--brand), var(--accent), var(--brand-3));
      transform-origin: 0 50%; 
      transform: scaleX(0);
      transition: transform 0.1s ease-out;
    }
    
    .nav{
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      gap:clamp(12px, 3vw, 24px); 
      height:100%;
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0 clamp(16px, 4vw, 32px);
    }
    
    .brand{
      display:flex; 
      align-items:center; 
      gap:12px; 
      font-weight:900; 
      letter-spacing:.3px;
      font-size: clamp(16px, 2vw, 18px);
      flex-shrink: 0;
    }
    
    .logo{
      width:42px; 
      height:42px; 
      border-radius:14px; 
      display:grid; 
      place-items:center; 
      position:relative; 
      overflow:hidden;
      background: conic-gradient(from 220deg, #a78bfa, #6d28d9, #8b5cf6, #c4b5fd, #a78bfa);
      box-shadow: var(--shadow);
      transition: transform .4s cubic-bezier(0.34, 1.56, 0.64, 1);
      flex-shrink: 0;
    }
    
    .logo::after{
      content:""; 
      position:absolute; 
      inset:0;
      background:radial-gradient(circle 150px at 30% 20%, rgba(255,255,255,.6), transparent 60%);
      animation: shimmer 3s ease-in-out infinite;
    }
    
    @keyframes shimmer{
      0%, 100%{opacity: .6}
      50%{opacity: .9}
    }
    
    .logo:hover{
      transform: rotate(12deg) scale(1.08);
    }
    
    nav.navlinks{
      display:flex; 
      align-items:center; 
      gap:8px; 
      flex-wrap:wrap;
    }
    
    .tab-btn{
      padding:12px 18px; 
      border:1px solid var(--border); 
      border-radius:var(--radius-xs); 
      background:var(--glass);
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
      font-weight:700; 
      color:#eaddff; 
      position:relative; 
      overflow:hidden;
      font-size: 15px;
      white-space: nowrap;
    }
    
    .tab-btn::before{
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      opacity: 0;
      transition: opacity var(--speed) ease;
    }
    
    .tab-btn:hover{
      transform: translateY(-2px); 
      box-shadow: var(--shadow); 
      border-color:var(--brand-3);
    }
    
    .tab-btn.active{
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); 
      color:white; 
      border-color: transparent;
      box-shadow: var(--shadow);
    }
    
    .tab-btn[aria-current="page"]{
      outline:2px solid var(--brand-3); 
      outline-offset:2px;
    }

    /* Mobile burger */
    .burger{
      display:none; 
      width:46px; 
      height:46px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border);
      background:var(--glass); 
      align-items:center; 
      justify-content:center; 
      color:#eaddff;
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
      flex-shrink: 0;
    }
    
    .burger:hover{
      transform:scale(1.05); 
      box-shadow:var(--shadow); 
      border-color:var(--brand-3);
    }
    
    .burger:active{
      transform: scale(0.95);
    }
    
    .burger svg{display:block}

    /* Mobile menu panel */
    .nav-panel{
      position:fixed; 
      top:var(--header-h); 
      left:0; 
      right:0; 
      background:rgba(16,10,31,.95);
      border-bottom:1px solid var(--border); 
      backdrop-filter: blur(20px) saturate(180%);
      transform: translateY(-100%); 
      opacity:0; 
      pointer-events:none; 
      transition: all .35s cubic-bezier(0.4, 0, 0.2, 1); 
      z-index:59;
      max-height: calc(100vh - var(--header-h));
      overflow-y: auto;
    }
    
    .nav-panel.open{
      transform:none; 
      opacity:1; 
      pointer-events:auto;
    }
    
    .nav-panel .navlinks{
      padding:20px; 
      gap:12px; 
      flex-direction: column;
      align-items: stretch;
    }
    
    .nav-panel .tab-btn{
      width: 100%;
      text-align: center;
      justify-content: center;
    }

    /* GLOW BLOBS - оптимизированные */
    .blob, .blob-2, .blob-3{
      position:fixed; 
      filter: blur(100px); 
      opacity:.25; 
      z-index:-1; 
      pointer-events:none;
      animation: drift 25s ease-in-out infinite alternate;
      will-change: transform;
      border-radius: 50%;
    }
    
    .blob{
      width:600px; 
      height:600px; 
      background:radial-gradient(circle, #7c3aed 0%, transparent 70%); 
      top: -200px; 
      left:-200px;
    }
    
    .blob-2{
      width:500px; 
      height:500px; 
      background:radial-gradient(circle, #c4b5fd 0%, transparent 70%); 
      right:-180px; 
      top: 100px; 
      animation-duration:30s;
      animation-delay: -5s;
    }
    
    .blob-3{
      width:450px; 
      height:450px; 
      background:radial-gradient(circle, #8b5cf6 0%, transparent 70%); 
      left: 30%; 
      top: 500px; 
      animation-duration:35s;
      animation-delay: -10s;
    }
    
    @keyframes drift { 
      0%{transform:translate(0, 0) scale(1)} 
      33%{transform:translate(30px, 40px) scale(1.1)}
      66%{transform:translate(-20px, 30px) scale(0.95)}
      100%{transform:translate(40px, -30px) scale(1.05)} 
    }

    main{
      position:relative;
      min-height: 100vh;
    }

    /* VIEWS - улучшенная анимация */
    .view{
      display:none; 
      opacity:0; 
      transform: translateY(20px); 
      transition: opacity .5s ease, transform .5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .view.active{
      display:block; 
      opacity:1; 
      transform:none;
    }
    
    section{
      padding:clamp(40px, 8vh, 80px) 0;
    }
    
    .section-title{
      font-size: clamp(28px, 5vw, 44px); 
      margin:0 0 12px;
      font-weight: 900;
      line-height: 1.2;
      letter-spacing: -0.02em;
    }
    
    .section-sub{
      color:var(--muted); 
      margin:0 0 32px;
      font-size: clamp(15px, 2vw, 18px);
      line-height: 1.6;
      max-width: 700px;
    }

    /* HERO - полностью центрированный */
    .hero{
      padding:clamp(40px, 10vh, 100px) 0 clamp(30px, 6vh, 60px);
      min-height: calc(100vh - var(--header-h));
      display: flex;
      align-items: center;
    }
    
    .hero-grid{
      display:grid; 
      grid-template-columns:1.1fr .9fr; 
      gap:clamp(24px, 5vw, 48px); 
      align-items:center;
      width: 100%;
    }
    
    .hero-grid > div:first-child {
      min-width: 0; /* важно для правильного переноса */
      overflow: hidden;
    }
    
    .h1{
      font-size: clamp(32px, 6vw, 68px); 
      line-height:1.15; 
      margin:0 0 16px; 
      font-weight:900; 
      letter-spacing:-0.02em;
      background: linear-gradient(135deg, #ffffff 0%, #e9ddff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
      max-width: 100%;
    }
    
    .subtitle{
      color:var(--muted); 
      font-size: clamp(16px, 2vw, 20px); 
      margin:0 0 32px;
      line-height: 1.6;
      max-width: 600px;
    }
    
    .cta{
      display:flex; 
      flex-wrap:wrap; 
      gap:14px;
      align-items: center;
    }
    
    .btn-primary, .btn, .btn-ghost{
      position:relative; 
      overflow:hidden;
      border: none;
      cursor: pointer;
      font-size: 16px;
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn-primary{
      padding:16px 28px; 
      border-radius:var(--radius-sm); 
      background:linear-gradient(135deg, var(--brand), var(--brand-2));
      color:white; 
      font-weight:800; 
      letter-spacing:.3px;
      display:inline-flex; 
      align-items:center; 
      gap:12px;
      box-shadow: var(--shadow);
    }
    
    .btn-primary::before{
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent), var(--brand));
      opacity: 0;
      transition: opacity var(--speed) ease;
    }
    
    .btn-primary:hover{
      transform: translateY(-3px) scale(1.02); 
      box-shadow: var(--shadow-lg);
    }
    
    .btn-primary:hover::before{
      opacity: 1;
    }
    
    .btn-primary:active{
      transform: translateY(-1px) scale(0.98);
    }
    
    .btn-ghost{
      padding:14px 24px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:var(--glass); 
      color:#e9ddff; 
      font-weight:700;
    }
    
    .btn-ghost:hover{
      transform: translateY(-2px); 
      box-shadow:var(--shadow); 
      border-color:var(--brand-3);
      background: rgba(255,255,255,.1);
    }
    
    .marquee{
      margin-top:24px; 
      overflow:hidden; 
      border:1px solid var(--border); 
      border-radius:999px; 
      background:rgba(255,255,255,.04);
      box-shadow: inset 0 1px 2px rgba(0,0,0,.3);
    }
    
    .marquee-track{
      display:flex; 
      gap:16px; 
      white-space:nowrap; 
      padding:12px 20px; 
      animation: marquee 30s linear infinite;
    }
    
    @keyframes marquee{ 
      from{transform:translateX(0)} 
      to{transform:translateX(-50%)} 
    }

    .mock{
      aspect-ratio: 10/7; 
      border-radius:var(--radius);
      background:
        radial-gradient(circle 200px at 30% 20%, rgba(255,255,255,.25), transparent 50%),
        linear-gradient(135deg, #2b1d4c 0%, #1b1232 50%, #28184b 100%);
      position:relative; 
      display:grid; 
      place-items:center; 
      animation: float 8s ease-in-out infinite;
      border:1px solid var(--border); 
      box-shadow: var(--shadow-lg); 
      overflow:hidden;
      transition: transform var(--speed) ease;
    }
    
    .mock:hover{
      transform: scale(1.02);
    }
    
    @keyframes float{
      0%, 100%{transform:translateY(0) rotate(0deg)}
      50%{transform:translateY(-12px) rotate(1deg)}
    }
    
    .mock::after{
      content:"Превью твоих приложений"; 
      color:#dccfff; 
      letter-spacing:.3px; 
      font-weight:700; 
      opacity:.8;
      padding:12px 20px; 
      border-radius:var(--radius-xs); 
      border:1px dashed rgba(255,255,255,.3); 
      background:rgba(255,255,255,.05);
      backdrop-filter: blur(10px);
    }

    /* FEATURE CARDS */
    .grid{
      display:grid; 
      gap:clamp(16px, 3vw, 24px);
    }
    
    .grid-3{
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
    
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border:1px solid var(--border); 
      border-radius:var(--radius); 
      box-shadow: var(--shadow); 
      overflow:hidden;
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .feat{
      padding:24px; 
      border-radius:var(--radius); 
      background:var(--card); 
      border:1px solid var(--border); 
      position:relative; 
      overflow:hidden; 
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .feat:hover{
      transform: translateY(-4px); 
      box-shadow: var(--shadow-lg);
      border-color: var(--brand-3);
    }
    
    .feat i{
      display:inline-grid; 
      place-items:center; 
      width:48px; 
      height:48px; 
      border-radius:12px; 
      background:linear-gradient(135deg,var(--brand),var(--accent)); 
      margin-bottom:16px;
      font-style: normal;
      font-size: 24px;
      box-shadow: var(--shadow);
    }
    
    .feat h3{
      margin:0 0 8px;
      font-size: clamp(18px, 2.5vw, 22px);
      font-weight: 800;
    }
    
    .feat p{
      margin:0; 
      color:#d9caff;
      line-height: 1.6;
      font-size: 15px;
    }
    
    .shine{
      position:absolute; 
      inset:-1px; 
      background: radial-gradient(circle 400px at var(--mx, -100%) var(--my, -100%), rgba(255,255,255,.2), transparent 50%); 
      opacity:0; 
      pointer-events:none; 
      transition: opacity var(--speed) ease;
    }
    
    .feat:hover .shine{
      opacity: 1;
    }

    /* COUNTERS */
    .counters{
      display:grid; 
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
      gap:16px; 
      margin-top:28px;
    }
    
    .kpi{
      padding:20px; 
      border-radius:var(--radius-sm); 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.04);
      transition: all var(--speed) ease;
      text-align: center;
    }
    
    .kpi:hover{
      transform: translateY(-2px);
      border-color: var(--brand-3);
      box-shadow: var(--shadow);
    }
    
    .kpi b{
      font-size:clamp(24px, 4vw, 32px);
      display: block;
      margin-top: 8px;
      background: linear-gradient(135deg, var(--brand-3), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* CATALOG (APPS) */
    .toolbar{
      position:sticky; 
      top: calc(var(--header-h) + 12px);
      z-index:10;
      display:flex; 
      flex-wrap:wrap; 
      gap:12px; 
      align-items:center; 
      margin-bottom:24px;
      padding:16px; 
      border:1px solid var(--border); 
      border-radius:var(--radius-sm); 
      background:rgba(18,14,34,.85); 
      backdrop-filter: blur(16px) saturate(180%);
      box-shadow: var(--shadow);
    }
    
    .search{
      flex:1 1 240px; 
      min-width:200px; 
      display:flex; 
      align-items:center; 
      gap:10px; 
      padding:14px 18px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.06);
      transition: all var(--speed) ease;
    }
    
    .search:focus-within{
      border-color: var(--brand-3);
      box-shadow: 0 0 0 3px rgba(167,139,250,.1);
    }
    
    .search input{
      flex:1; 
      background:transparent; 
      border:0; 
      color:var(--fg); 
      outline:0;
      font-size: 15px;
    }
    
    .search input::placeholder{
      color: var(--muted);
      opacity: 0.6;
    }
    
    .chips{
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    .chip{
      padding:10px 18px; 
      border:1px solid var(--border); 
      border-radius:999px; 
      background:rgba(255,255,255,.05); 
      cursor:pointer; 
      font-weight:700; 
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
      font-size: 14px;
      white-space: nowrap;
    }
    
    .chip:hover{
      transform: translateY(-2px); 
      box-shadow:var(--shadow); 
      border-color:var(--brand-3);
    }
    
    .chip.active{
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); 
      border-color:transparent;
      color: white;
      box-shadow: var(--shadow);
    }
    
    .select{
      padding:12px 16px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.06); 
      color:var(--fg);
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all var(--speed) ease;
    }
    
    .select:hover{
      border-color: var(--brand-3);
    }
    
    .select:focus{
      outline: none;
      border-color: var(--brand-3);
      box-shadow: 0 0 0 3px rgba(167,139,250,.1);
    }
    
    .apps-grid{
      display:grid; 
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
      gap:clamp(18px, 3vw, 28px);
    }
    
    .app-card{
      position:relative; 
      border:1px solid var(--border); 
      border-radius:var(--radius); 
      background:var(--surface);
      overflow:hidden; 
      transition: all .4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    
    .app-card:hover{
      transform: translateY(-6px); 
      box-shadow: var(--shadow-lg);
      border-color: var(--brand-3);
    }
    
    .app-thumb{
      aspect-ratio: 16/10; 
      background:
        radial-gradient(circle 180px at 25% 20%, rgba(255,255,255,.3), transparent 50%),
        linear-gradient(135deg, #311f5c 0%, #1c1336 50%, #2a1651 100%);
      border-bottom:1px solid var(--border); 
      display:grid; 
      place-items:center; 
      color:#e9ddff; 
      font-weight:800; 
      letter-spacing:.3px;
      font-size: 18px;
      position: relative;
      overflow: hidden;
    }
    
    .app-thumb::before{
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, transparent 0%, rgba(167,139,250,.1) 100%);
    }
    
    .badge{
      padding:6px 12px; 
      border-radius:999px; 
      font-size:12px; 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.05);
      font-weight: 600;
      white-space: nowrap;
    }
    
    .app-body{
      padding:18px;
    }
    
    .app-title{
      display:flex; 
      align-items:center; 
      gap:12px; 
      justify-content:space-between; 
      margin-bottom:8px;
    }
    
    .app-title b{
      font-size: 18px;
      font-weight: 800;
    }
    
    .tags{
      display:flex; 
      gap:6px; 
      flex-wrap:wrap;
    }
    
    .app-actions{
      display:flex; 
      gap:10px; 
      margin-top:16px; 
      flex-wrap:wrap;
    }
    
    .btn{
      display:inline-flex; 
      align-items:center; 
      gap:10px; 
      padding:12px 18px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:var(--glass); 
      font-weight:700; 
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1); 
      color:#eaddff;
      font-size: 14px;
    }
    
    .btn:hover{
      transform:translateY(-2px); 
      box-shadow: var(--shadow); 
      border-color:var(--brand-3);
      background: rgba(255,255,255,.1);
    }
    
    .btn-solid{
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); 
      border-color:transparent; 
      color:white;
      box-shadow: var(--shadow);
    }
    
    .btn-solid:hover{
      box-shadow: var(--shadow-lg);
    }
    
    .rating{
      color:#fcd34d;
      font-size: 14px;
    }
    
    .downloads-mini{
      color:#cbb6ff; 
      font-size:13px;
      line-height: 1.5;
    }
    
    .pill{
      display:inline-flex; 
      align-items:center; 
      gap:8px; 
      padding:8px 14px; 
      border-radius:999px; 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.05); 
      font-size:13px;
      font-weight: 600;
      white-space: nowrap;
    }

    /* MODAL */
    .overlay{
      position:fixed; 
      inset:0; 
      background:rgba(5,3,12,.75); 
      backdrop-filter: blur(12px) saturate(180%); 
      display:none; 
      align-items:center; 
      justify-content:center; 
      z-index:70;
      padding: 20px;
    }
    
    .overlay.open{
      display:flex; 
      animation: fadeIn .3s ease;
    }
    
    @keyframes fadeIn{
      from{opacity:0} 
      to{opacity:1}
    }
    
    .modal{
      width:min(900px, 100%); 
      max-height:90vh; 
      overflow:auto;
      border-radius:var(--radius); 
      border:1px solid var(--border-2); 
      background:linear-gradient(180deg, #120a22 0%, #0f0a1e 100%);
      box-shadow: 0 40px 120px rgba(104,74,240,.4);
      transform: translateY(20px) scale(.96); 
      opacity:0; 
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .overlay.open .modal{
      transform:none; 
      opacity:1;
    }
    
    .modal-head{
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      padding:20px 24px; 
      border-bottom:1px solid var(--border);
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .modal-body{
      padding:24px;
    }
    
    .gallery{
      display:grid; 
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
      gap:16px;
    }
    
    .shot{
      aspect-ratio: 16/10; 
      border-radius:var(--radius-sm); 
      border:1px solid var(--border); 
      background:
        radial-gradient(circle 160px at 20% 20%, rgba(255,255,255,.3), transparent 50%),
        linear-gradient(135deg, #33205f 0%, #1a112f 50%, #2b1754 100%);
      transition: transform var(--speed) ease;
    }
    
    .shot:hover{
      transform: scale(1.02);
    }
    
    .meta{
      display:flex; 
      gap:10px; 
      flex-wrap:wrap; 
      margin-top:16px;
    }
    
    .close{
      border:1px solid var(--border); 
      background:rgba(255,255,255,.06); 
      color:#e9ddff; 
      border-radius:var(--radius-xs); 
      padding:10px 20px; 
      cursor:pointer; 
      font-weight:700;
      transition: all var(--speed) ease;
      font-size: 14px;
    }
    
    .close:hover{
      background: rgba(255,255,255,.1);
      border-color: var(--brand-3);
      transform: translateY(-2px);
    }

    /* PORTFOLIO */
    .timeline{
      position:relative; 
      margin-left:16px; 
      padding-left:32px;
    }
    
    .timeline::before{
      content:""; 
      position:absolute; 
      left:0; 
      top:0; 
      bottom:0; 
      width:2px; 
      background: linear-gradient(180deg, var(--brand-3) 0%, rgba(255,255,255,.1) 100%);
    }
    
    .tl-item{
      position:relative; 
      margin-bottom:28px;
    }
    
    .tl-item::before{
      content:""; 
      position:absolute; 
      left:-23px; 
      top:12px; 
      width:14px; 
      height:14px; 
      border-radius:50%; 
      background:var(--accent);
      box-shadow: 0 0 0 4px rgba(167,139,250,.2);
      transition: all var(--speed) ease;
    }
    
    .tl-item:hover::before{
      transform: scale(1.3);
      box-shadow: 0 0 0 6px rgba(167,139,250,.3);
    }
    
    .tl-card{
      padding:20px; 
      border-radius:var(--radius-sm); 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.04);
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .tl-card:hover{
      transform: translateX(8px);
      border-color: var(--brand-3);
      box-shadow: var(--shadow);
    }
    
    .stack{
      display:flex; 
      gap:8px; 
      flex-wrap:wrap;
      margin-top: 12px;
    }

    /* REVIEWS */
    .reviews-wrap{
      position:relative;
      margin: 0 -20px;
      padding: 0 20px;
    }
    
    .track{
      display:flex; 
      gap:20px; 
      overflow-x:auto; 
      scroll-snap-type: x mandatory; 
      padding-bottom:8px;
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,.2) transparent;
    }
    
    .track::-webkit-scrollbar{
      height:8px;
    }
    
    .track::-webkit-scrollbar-track{
      background: rgba(255,255,255,.05);
      border-radius: 10px;
    }
    
    .track::-webkit-scrollbar-thumb{
      background:rgba(255,255,255,.2); 
      border-radius:10px;
      transition: background var(--speed) ease;
    }
    
    .track::-webkit-scrollbar-thumb:hover{
      background:rgba(255,255,255,.3);
    }
    
    .review{
      scroll-snap-align:start; 
      min-width:320px; 
      max-width:400px; 
      padding:24px; 
      border:1px solid var(--border); 
      border-radius:var(--radius); 
      background:rgba(255,255,255,.06);
      transition: all var(--speed) cubic-bezier(0.4, 0, 0.2, 1);
      flex-shrink: 0;
    }
    
    .review:hover{
      transform: translateY(-4px);
      box-shadow: var(--shadow);
      border-color: var(--brand-3);
    }
    
    .review .who{
      display:flex; 
      align-items:center; 
      gap:12px; 
      margin-bottom:14px;
    }
    
    .avatar{
      width:44px; 
      height:44px; 
      border-radius:50%; 
      background:linear-gradient(135deg, var(--brand), var(--brand-2)); 
      border:2px solid var(--border);
      flex-shrink: 0;
    }

    /* SUPPORT */
    .donate-grid{
      display:grid; 
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
      gap:clamp(18px, 3vw, 28px);
    }
    
    .don-card{
      padding:24px; 
      border:1px solid var(--border); 
      border-radius:var(--radius); 
      background:rgba(255,255,255,.05);
      transition: all var(--speed) ease;
    }
    
    .don-card:hover{
      border-color: var(--brand-3);
      box-shadow: var(--shadow);
    }
    
    .don-card h3{
      margin-top:0;
      margin-bottom: 16px;
      font-size: clamp(18px, 2.5vw, 22px);
    }
    
    .don-ways{
      display:grid; 
      gap:12px;
    }
    
    .copy{
      display:inline-flex; 
      align-items:center; 
      gap:10px; 
      padding:12px 16px; 
      border-radius:var(--radius-xs); 
      border:1px dashed var(--border); 
      background:rgba(255,255,255,.04); 
      cursor:pointer;
      transition: all var(--speed) ease;
      word-break: break-all;
      font-size: 14px;
    }
    
    .copy:hover{
      background: rgba(255,255,255,.08);
      border-color: var(--brand-3);
      transform: translateX(4px);
    }
    
    .qr{
      aspect-ratio:1; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:
        radial-gradient(circle 120px at 50% 50%, rgba(255,255,255,.25), transparent 50%),
        linear-gradient(135deg, #352563 0%, #1a1330 50%, #2c1a55 100%);
      transition: transform var(--speed) ease;
    }
    
    .qr:hover{
      transform: scale(1.02);
    }

    /* CONTACT */
    .contact-grid{
      display:grid; 
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
      gap:clamp(18px, 3vw, 28px);
    }
    
    .form{
      display:grid; 
      gap:14px;
    }
    
    .input{
      padding:14px 18px; 
      border-radius:var(--radius-xs); 
      border:1px solid var(--border); 
      background:rgba(255,255,255,.06); 
      color:var(--fg);
      font-size: 15px;
      transition: all var(--speed) ease;
      font-family: inherit;
    }
    
    .input:focus{
      outline: none;
      border-color: var(--brand-3);
      box-shadow: 0 0 0 3px rgba(167,139,250,.1);
      background: rgba(255,255,255,.08);
    }
    
    .input::placeholder{
      color: var(--muted);
      opacity: 0.6;
    }
    
    textarea.input{
      min-height:160px; 
      resize:vertical;
      line-height: 1.6;
    }

    /* FOOTER */
    footer{
      padding:clamp(36px, 6vh, 60px) 0 calc(70px + var(--safe-b)); 
      color:rgba(203,182,255,.7);
      margin-top: 60px;
    }
    
    .foot{
      display:flex; 
      justify-content:space-between; 
      gap:24px; 
      align-items:center; 
      border-top:1px solid var(--border); 
      padding-top:24px;
      flex-wrap: wrap;
    }
    
    .foot a{
      color:#cbb6ff;
      transition: color var(--speed) ease;
    }
    
    .foot a:hover{
      color: var(--accent-3);
    }

    /* REVEAL */
    .reveal{
      opacity:0; 
      transform: translateY(24px); 
      transition: all .8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .reveal.in-view{
      opacity:1; 
      transform:none;
    }

    /* Focus visible */
    :focus-visible{
      outline:2px solid var(--brand-3); 
      outline-offset:3px; 
      border-radius:var(--radius-xs);
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar{
      width:12px;
    }
    
    ::-webkit-scrollbar-track{
      background: rgba(255,255,255,.02);
    }
    
    ::-webkit-scrollbar-thumb{
      background:rgba(255,255,255,.15); 
      border-radius:10px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    
    ::-webkit-scrollbar-thumb:hover{
      background:rgba(255,255,255,.25);
      background-clip: padding-box;
    }

    /* Responsive */
    @media (max-width: 1080px){
      .apps-grid{
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      }
      
      .hero-grid{
        display:grid;
        grid-template-columns:1.1fr .9fr;
        gap:clamp(24px, 5vw, 48px);
        align-items:center;
        width: 100%;
        overflow: hidden;
      }
      
      .mock{
        max-width: 600px;
        margin: 0 auto;
      }
    }
    
    @media (max-width: 920px){
      :root{
        --header-h: 70px;
      }
      
      .burger{
        display:flex;
      }
      
      header nav.navlinks{
        display:none;
      }
      
      .blob-2{
        opacity:.2;
      }
      
      .hero{
        padding-top:clamp(30px, 8vh, 60px);
      }
      
      .toolbar{
        top: calc(var(--header-h) + 8px);
        flex-direction: column;
        align-items: stretch;
      }
      
      .search{
        width: 100%;
      }
      
      .chips{
        width: 100%;
        justify-content: center;
      }
      
      .select{
        width: 100%;
      }
    }
    
    @media (max-width: 740px){
      .grid-3{
        grid-template-columns: 1fr;
      }
      
      .apps-grid{
        grid-template-columns: 1fr;
      }
      
      .donate-grid, .contact-grid{
        grid-template-columns: 1fr;
      }
      
      .counters{
        grid-template-columns: 1fr;
      }
      
      .gallery{
        grid-template-columns: 1fr;
      }
      
      .badge{
        font-size:11px;
        padding: 5px 10px;
      }
      
      .tab-btn{
        padding:12px 16px;
      }
      
      .marquee-track{
        animation-duration: 40s;
      }
      
      .timeline{
        margin-left: 8px;
        padding-left: 24px;
      }
      
      .review{
        min-width: 280px;
      }
    }
    
    @media (max-width: 520px){
      :root{
        --header-h: 64px;
      }
      
      .cta{
        flex-direction:column;
        width: 100%;
      }
      
      .btn-primary, .btn-ghost, .btn{
        width:100%; 
        justify-content:center;
      }
      
      .search{
        min-width:0;
      }
      
      .blob-3{
        opacity: .15;
      }
      
      .app-actions{
        flex-direction: column;
      }
      
      .app-actions .btn{
        width: 100%;
        justify-content: center;
      }
      
      .modal-head{
        flex-direction: column;
        align-items: flex-start;
      }
      
      .close{
        width: 100%;
        text-align: center;
      }
      
      section{
        padding: clamp(32px, 6vh, 60px) 0;
      }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      
      .marquee-track{
        animation: none;
      }
      
      html{
        scroll-behavior:auto;
      }
      
      .blob, .blob-2, .blob-3{
        animation: none;
      }
      
      .mock{
        animation: none;
      }
    }
    
    /* Prevent body scroll when overlays open */
    .no-scroll{
      overflow:hidden;
      height: 100%;
    }
    </style>
  </head>
<body>
  <a class="sr-only" href="#main">Пропустить к контенту</a>

  <div class="blob"></div>
  <div class="blob-2"></div>
  <div class="blob-3"></div>

  <header>
    <div class="progress" id="progressBar" aria-hidden="true"></div>
    <div class="nav" role="navigation" aria-label="Главная навигация">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <span id="siteTitle">My Purple Hub</span>
      </div>
      <nav class="navlinks" aria-label="Ссылки по разделам">
        <a class="tab-btn" data-route="home" href="#home">Главная</a>
        <a class="tab-btn" data-route="apps" href="#apps">Приложения</a>
        <a class="tab-btn" data-route="portfolio" href="#portfolio">Портфолио</a>
        <a class="tab-btn" data-route="reviews" href="#reviews">Отзывы</a>
        <a class="tab-btn" data-route="support" href="#support">Поддержать</a>
        <a class="tab-btn" data-route="contact" href="#contact">Контакты</a>
        <a id="navGithub" class="tab-btn" target="_blank" rel="noopener noreferrer">GitHub</a>
      </nav>
      <button class="burger" id="navToggle" aria-expanded="false" aria-controls="navPanel" aria-label="Открыть меню">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M4 6h16M4 12h16M8 18h12" stroke="#eaddff" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div id="navPanel" class="nav-panel" role="dialog" aria-modal="true" aria-label="Мобильное меню">
      <div class="navlinks">
        <a class="tab-btn" data-route="home" href="#home">Главная</a>
        <a class="tab-btn" data-route="apps" href="#apps">Приложения</a>
        <a class="tab-btn" data-route="portfolio" href="#portfolio">Портфолио</a>
        <a class="tab-btn" data-route="reviews" href="#reviews">Отзывы</a>
        <a class="tab-btn" data-route="support" href="#support">Поддержать</a>
        <a class="tab-btn" data-route="contact" href="#contact">Контакты</a>
        <a id="navGithubMobile" class="tab-btn" target="_blank" rel="noopener noreferrer">GitHub</a>
      </div>
    </div>
  </header>

  <main id="main">
    <div class="view active" id="view-home">
      <section class="hero">
        <div class="container hero-grid">
          <div>
            <div class="badge" style="display:inline-block; margin-bottom:10px">Новые релизы · GitHub</div>
            <h1 class="h1">Мой фиолетовый хаб: приложения, проекты и поддержка</h1>
            <p class="subtitle">Скачивай мои приложения, смотри портфолио и отзывы, поддерживай развитие. Анимации, скорость и чистый дизайн.</p>
            <div class="cta">
              <a class="btn-primary mag" data-route="apps" href="#apps" aria-label="Перейти к каталогу приложений">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 3v12m0 0 4-4m-4 4-4-4M4 21h16" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                К каталогу приложений
              </a>
              <a class="btn-ghost" data-route="support" href="#support">Поддержать проект</a>
            </div>

            <div class="marquee reveal" style="margin-top:22px">
              <div class="marquee-track">
                <span class="pill">⚡ Без рекламы</span>
                <span class="pill">🎯 Фокус и продуманность</span>
                <span class="pill">🟣 Фиолетовая эстетика</span>
                <span class="pill">🔒 Открытые исходники</span>
                <span class="pill">🚀 Быстрые релизы</span>
                <span class="pill">💜 Коммьюнити</span>
                <span class="pill">⚡ Без рекламы</span>
                <span class="pill">🎯 Фокус и продуманность</span>
                <span class="pill">🟣 Фиолетовая эстетика</span>
                <span class="pill">🔒 Открытые исходники</span>
                <span class="pill">🚀 Быстрые релизы</span>
                <span class="pill">💜 Коммьюнити</span>
              </div>
            </div>

            <div class="counters reveal">
              <div class="kpi"><div>Скачивания</div><b id="kpiDownloads">0</b></div>
              <div class="kpi"><div>Проекты</div><b id="kpiProjects">0</b></div>
              <div class="kpi"><div>Звёзды GitHub</div><b id="kpiStars">0</b></div>
            </div>
          </div>
          <div class="card mock" id="heroMock" aria-label="Превью"></div>
        </div>
      </section>

      <section>
        <div class="container">
          <h2 class="section-title">Почему этот хаб?</h2>
          <p class="section-sub">Минимум кликов — максимум пользы. Красивые микровзаимодействия при наведении, скролле и нажатии.</p>
          <div class="grid grid-3">
            <div class="feat reveal mouse-shine">
              <i>🛍️</i>
              <h3>Почти как магазин</h3>
              <p>Каталог, фильтры, рейтинги, карточки приложений и модальные подробности.</p>
              <div class="shine"></div>
            </div>
            <div class="feat reveal mouse-shine">
              <i>🧪</i>
              <h3>Без библиотек</h3>
              <p>Чистый HTML/CSS/JS. Быстро грузится, легко кастомизируется, просто деплоить.</p>
              <div class="shine"></div>
            </div>
            <div class="feat reveal mouse-shine">
              <i>💜</i>
              <h3>Фиолетовая магия</h3>
              <p>Градиенты, блёры, мягкие тени и плавные эффекты в единой палитре.</p>
              <div class="shine"></div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="view" id="view-apps">
      <section>
        <div class="container">
          <h2 class="section-title">Приложения</h2>
          <p class="section-sub">Выбирай платформу, фильтры и сортировку. Скачивание — прямо с GitHub Releases.</p>

          <div class="toolbar">
            <div class="search">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="#cbb6ff" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 1 0-.7.7l.27.28v.79L20 20.5 20.5 20l-5-6Zm-6 0A5 5 0 1 1 14.5 9 5 5 0 0 1 9.5 14Z"/></svg>
              <input id="appSearch" type="search" placeholder="Поиск по приложениям..." enterkeyhint="search" />
            </div>
            <div class="chips" id="osChips" role="tablist" aria-label="Фильтр по платформам">
              <span class="chip" role="tab" aria-selected="true" data-os="all">Все</span>
              <span class="chip" role="tab" data-os="android">Android</span>
              <span class="chip" role="tab" data-os="windows">Windows</span>
              <span class="chip" role="tab" data-os="web">Web</span>
            </div>
            <label>
              <span class="sr-only">Сортировка</span>
              <select id="sortSelect" class="select" aria-label="Сортировка">
                <option value="popular">Сначала популярные</option>
                <option value="new">Сначала новые</option>
                <option value="rating">Сначала с высоким рейтингом</option>
                <option value="name">По названию</option>
              </select>
            </label>
          </div>

          <div id="appsGrid" class="apps-grid" aria-live="polite"></div>
        </div>
      </section>
    </div>

    <div class="view" id="view-portfolio">
      <section>
        <div class="container">
          <h2 class="section-title">Портфолио</h2>
          <p class="section-sub">Подборка заметных проектов и вкладов.</p>
          <div class="timeline">
            <div id="portfolioList"></div>
          </div>
        </div>
      </section>
    </div>

    <div class="view" id="view-reviews">
      <section>
        <div class="container">
          <h2 class="section-title">Отзывы</h2>
          <p class="section-sub">Что говорят пользователи. Можно прислать свой отзыв через контакты.</p>
          <div class="reviews-wrap">
            <div id="reviewsTrack" class="track"></div>
          </div>
        </div>
      </section>
    </div>

    <div class="view" id="view-support">
      <section>
        <div class="container">
          <h2 class="section-title">Поддержать разработку</h2>
          <p class="section-sub">Если нравится — поддержи. Каждая копейка ускоряет релизы и помогает держать сервера.</p>
          <div class="donate-grid">
            <div class="don-card reveal">
              <h3 style="margin-top:0">Подписка и разовые донаты</h3>
              <div class="don-ways" id="donationLinks"></div>
              <div style="margin-top:10px">
                <button class="btn-primary mag" id="btnThanks" type="button">Сказать "спасибо" 💜</button>
              </div>
            </div>
            <div class="don-card reveal">
              <h3 style="margin-top:0">Крипто-кошельки</h3>
              <div class="don-ways" id="cryptoList"></div>
              <div class="qr" style="margin-top:10px" id="qrBox" aria-label="QR"></div>
              <div class="hint" style="color:#cbb6ff; margin-top:8px">QR — для примера. Поменяй адреса в DATA.</div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="view" id="view-contact">
      <section>
        <div class="container">
          <h2 class="section-title">Контакты</h2>
          <p class="section-sub">Пиши по сотрудничеству, идеям, багам. Быстро отвечаю.</p>
          <div class="contact-grid">
            <div class="card" style="padding:16px">
              <form class="form" id="contactForm">
                <input class="input" type="text" name="name" placeholder="Имя" required />
                <input class="input" type="email" name="email" placeholder="Email" required />
                <textarea class="input" name="msg" placeholder="Сообщение" required></textarea>
                <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap">
                  <button class="btn-primary" type="submit">Отправить</button>
                  <a class="btn" id="mailtoLink" href="#" rel="noopener">Или открыть в почте</a>
                </div>
                <small style="color:#cbb6ff">Отправка без бекенда: открою письмо через mailto.</small>
              </form>
            </div>
            <div class="card" style="padding:16px">
              <h3 style="margin-top:0">Соцсети и ссылки</h3>
              <div class="stack" id="socialLinks"></div>
              <div style="margin-top:12px">
                <span class="badge">Часовой пояс: GMT+3</span>
                <span class="badge">Обычно онлайн</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container foot">
      <div style="display:flex; align-items:center; gap:12px">
        <div class="logo" aria-hidden="true" style="width:28px; height:28px; border-radius:8px"></div>
        <span>© <span id="year"></span> <span id="footTitle">My Purple Hub</span></span>
      </div>
      <div>
        <a id="footReleases" target="_blank" rel="noopener noreferrer">Страница релизов</a>
      </div>
    </div>
  </footer>

  <div class="overlay" id="modal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <div class="modal-head">
        <div style="display:flex; align-items:center; gap:10px">
          <div class="badge">Приложение</div>
          <b id="mTitle"></b>
        </div>
        <button class="close" id="mClose" type="button" aria-label="Закрыть модальное окно">Закрыть</button>
      </div>
      <div class="modal-body">
        <div class="gallery reveal" id="mShots"></div>
        <p class="section-sub" id="mDesc" style="margin-top:12px"></p>
        <div class="meta" id="mMeta"></div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px" id="mActions"></div>
        <p class="hint" style="color:#cbb6ff; margin-top:10px">Скачивания идут напрямую с GitHub Releases.</p>
      </div>
    </div>
  </div>

  <canvas id="confetti" style="position:fixed; inset:0; pointer-events:none; z-index:80"></canvas>

  <script>
    const SITE = {
      title: "My Purple Hub",
      githubUser: "Kuli21232",
      releasesRepo: "app",
      social: [
        {label:"GitHub",  href:"https://github.com/Kuli21232"},
        {label:"Telegram",href:"https://t.me/your_handle"},
        {label:"X/Twitter",href:"https://x.com/your_handle"},
        {label:"YouTube", href:"https://youtube.com/@your_channel"},
        {label:"Email",   href:"mailto:you@example.com"},
      ],
      donate: [
        {label:"Boosty", href:"https://boosty.to/yourpage"},
        {label:"Patreon", href:"https://patreon.com/yourpage"},
        {label:"ЮMoney", href:"https://yoomoney.ru/to/4100XXXXXXXXXX"},
        {label:"Buy Me a Coffee", href:"https://buymeacoffee.com/yourname"},
      ],
      crypto: [
        {label:"USDT (TRC20)", addr:"TYOURTRC20ADDRESS"},
        {label:"BTC", addr:"bc1yourbtcaddress"},
        {label:"ETH (ERC20)", addr:"0xyourethaddress"},
      ],
    };

    const APPS = [
      {id:"motiva",name:"Motiva",tagline:"Трекер целей и фокус-сессий.",rating: 4.9,downloads: 12034,updated: "2025-10-01",tags:["productivity","focus","notes"],platforms:["android","windows"],ownerRepo:"Kuli21232/app",files:{android:"app-140.apk",windows:"Release.zip"},github:"https://github.com/Kuli21232/app",site:"",shots:[null, null, null]},
      {id:"vio-notes",name:"VioNotes",tagline:"Минималистичные заметки с синхронизацией.",rating: 4.7,downloads: 8421,updated: "2025-09-15",tags:["notes","sync","minimal"],platforms:["web","android"],ownerRepo:"youruser/VioNotes",files:{web:"https://yourdomain.app/vionotes",android:"VioNotes.apk"},github:"https://github.com/youruser/VioNotes",site:"https://yourdomain.app/vionotes",shots:[null, null]},
      {id:"purple-timer",name:"Purple Timer",tagline:"Таймер + Помодоро с красивыми графиками.",rating: 4.8,downloads: 15010,updated: "2025-08-20",tags:["timer","pomodoro","focus"],platforms:["windows"],ownerRepo:"youruser/PurpleTimer",files:{windows:"PurpleTimer-Setup.exe"},github:"https://github.com/youruser/PurpleTimer",site:"",shots:[null]}
    ];

    const PORTFOLIO = [
      {year:"2025", title:"Motiva 1.4", desc:"Мажорное обновление: новые цели, помодоро, улучшенная статистика.", stack:["Android","Windows","TypeScript","Tauri"]},
      {year:"2024", title:"VioNotes Web", desc:"Web-версия с оффлайн-режимом и синхронизацией.", stack:["PWA","IndexedDB","Service Worker"]},
      {year:"2023", title:"Open-source вклад", desc:"Pull-requests в популярные проекты UI/UX.", stack:["Open Source","Design Tokens"]},
    ];

    const REVIEWS = [
      {name:"Аня", handle:"@anya", text:"Очень чистый интерфейс. Ничего лишнего — только то, что нужно.", stars:5},
      {name:"Илья", handle:"@ilya", text:"Фокус-сессии и чек-листы реально помогают не расползаться.", stars:5},
      {name:"Роман", handle:"@roman", text:"Наконец-то нормальные релизы на GitHub без левых загрузчиков.", stars:5},
      {name:"Маша", handle:"@masha", text:"Анимации кайф. И тема — бомба!", stars:4},
    ];

    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => [...root.querySelectorAll(sel)];

    $("#siteTitle").textContent = SITE.title;
    $("#footTitle").textContent = SITE.title;
    $("#year").textContent = new Date().getFullYear();
    const releasesBase = SITE.releasesRepo ? `https://github.com/${SITE.githubUser}/${SITE.releasesRepo}/releases/latest` : `https://github.com/${SITE.githubUser}`;
    $("#footReleases").href = releasesBase;
    $("#navGithub").href = `https://github.com/${SITE.githubUser}`;
    $("#navGithubMobile").href = `https://github.com/${SITE.githubUser}`;

    const navToggle = $("#navToggle");
    const navPanel = $("#navPanel");
    function closeNavPanel(){
      navPanel.classList.remove("open");
      navToggle.setAttribute("aria-expanded","false");
      document.body.classList.remove("no-scroll");
    }
    navToggle.addEventListener("click", ()=>{
      const open = navPanel.classList.toggle("open");
      navToggle.setAttribute("aria-expanded", open ? "true" : "false");
      document.body.classList.toggle("no-scroll", open);
    });
    navPanel.addEventListener("click", (e)=>{
      if (e.target.closest("a")) closeNavPanel();
    });
    document.addEventListener("keydown", (e)=>{ if (e.key === "Escape") { closeNavPanel(); closeModal(); }});

    const routes = ["home","apps","portfolio","reviews","support","contact"];
    function setRoute(route){
      routes.forEach(r=>{
        const v = $("#view-"+r);
        const bs = $$(`.tab-btn[data-route="${r}"]`);
        if (v) v.classList.toggle("active", r===route);
        bs.forEach(b=>{
          b.classList.toggle("active", r===route);
          b.setAttribute("aria-current", r===route ? "page" : "false");
        });
      });
      window.scrollTo({top:0, behavior:"smooth"});
    }
    function applyRouteFromHash(){
      const raw = (location.hash.replace("#","") || "home");
      const r = routes.includes(raw) ? raw : "home";
      setRoute(r);
    }
    window.addEventListener("hashchange", applyRouteFromHash);
    applyRouteFromHash();
    $$(".tab-btn[data-route]").forEach(btn=>{
      btn.addEventListener("click", ()=> location.hash = btn.dataset.route);
    });

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('in-view'); });
    }, {threshold: .18});
    $$(".reveal").forEach(el => io.observe(el));

    const progressBar = $("#progressBar");
    function updateProgress(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight + 0.0001);
      progressBar.style.transform = `scaleX(${Math.max(0, Math.min(1, scrolled))})`;
    }
    document.addEventListener("scroll", updateProgress, {passive:true});
    updateProgress();

    function animateCount(el, to, dur=1200){
      const start = performance.now(); const from = 0;
      function tick(t){
        const p = Math.min(1, (t-start)/dur);
        const val = Math.floor(from + (to-from)*p);
        el.textContent = val.toLocaleString("ru-RU");
        if (p<1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }
    const totalDownloads = APPS.reduce((s,a)=>s+(a.downloads||0),0);
    const totalProjects = APPS.length + PORTFOLIO.length;
    const approxStars = Math.floor(totalProjects*20 + totalDownloads/500);
    animateCount($("#kpiDownloads"), totalDownloads);
    animateCount($("#kpiProjects"), totalProjects);
    animateCount($("#kpiStars"), approxStars);

    function detectOS(){
      const ua = navigator.userAgent.toLowerCase();
      if (/android/.test(ua)) return "android";
      if (/windows nt/.test(ua)) return "windows";
      if (/iphone|ipad|ipod|macintosh/.test(ua)) return "web";
      return "web";
    }
    const userOS = detectOS();

    function buildReleaseURL(ownerRepo, file){
      if (!file) return null;
      if (/^https?:\/\//.test(file)) return file;
      return `https://github.com/${ownerRepo}/releases/latest/download/${file}`;
    }
    function bestOSForApp(app){
      if (app.platforms.includes(userOS)) return userOS;
      return app.platforms[0];
    }

    const appsGrid = $("#appsGrid");
    let currentOS = "all";
    let searchQuery = "";
    let sortBy = "popular";

    function cardStars(rating){
      const full = Math.floor(rating);
      const half = rating - full >= 0.5;
      let s = "";
      for(let i=0;i<full;i++) s+="★";
      if (half) s+="☆";
      return s.padEnd(5,"☆");
    }

    function appCard(app){
      const os = bestOSForApp(app);
      const dlURL = buildReleaseURL(app.ownerRepo, app.files[os]);
      const osLabel = os === "android" ? "Android · APK" : os === "windows" ? "Windows" : "Web";
      const tagHtml = app.tags.slice(0,3).map(t=>`<span class="badge">${t}</span>`).join("");
      return `
        <div class="app-card mouse-shine" data-id="${app.id}" tabindex="0" role="button" aria-label="Подробнее о ${app.name}">
          <div class="app-thumb"><span>${app.name}</span></div>
          <div class="app-body">
            <div class="app-title">
              <b>${app.name}</b>
              <span class="rating" title="${app.rating} из 5">${cardStars(app.rating)}</span>
            </div>
            <div class="downloads-mini">Скачивания: ${app.downloads.toLocaleString("ru-RU")} · Обновлено: ${app.updated}</div>
            <div class="tags" style="margin-top:8px">${tagHtml}</div>
            <div class="app-actions">
              ${dlURL ? `<a class="btn btn-solid ripple" href="${dlURL}" download>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 3v12m0 0 4-4m-4 4-4-4M4 21h16" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                Скачать (${osLabel})
              </a>` : ``}
              <a class="btn ripple more-btn" data-id="${app.id}">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M4 12h16M12 4v16" stroke="#eaddff" stroke-width="2" stroke-linecap="round"/></svg>
                Подробнее
              </a>
            </div>
          </div>
          <div class="shine"></div>
        </div>
      `;
    }

    function applyFilters(list){
      let arr = list.slice();
      if (currentOS !== "all") arr = arr.filter(a => a.platforms.includes(currentOS));
      if (searchQuery) {
        const q = searchQuery.toLowerCase();
        arr = arr.filter(a =>
          a.name.toLowerCase().includes(q) ||
          a.tagline.toLowerCase().includes(q) ||
          a.tags.join(" ").toLowerCase().includes(q)
        );
      }
      switch (sortBy){
        case "popular": arr.sort((a,b)=> (b.downloads||0)-(a.downloads||0)); break;
        case "new": arr.sort((a,b)=> new Date(b.updated)-new Date(a.updated)); break;
        case "rating": arr.sort((a,b)=> (b.rating||0)-(a.rating||0)); break;
        case "name": arr.sort((a,b)=> a.name.localeCompare(b.name,"ru")); break;
      }
      return arr;
    }

    function renderApps(){
      const arr = applyFilters(APPS);
      appsGrid.innerHTML = arr.map(appCard).join("");
      bindAppCardEvents();
      addMouseShine($$(".mouse-shine"));
      addRipple($$(".ripple, .btn-primary, .btn, .tab-btn, .chip, .copy"));
    }

    $("#appSearch").addEventListener("input", e=>{ searchQuery = e.target.value; renderApps(); });
    $$("#osChips .chip").forEach(ch=>{
      ch.addEventListener("click", ()=>{
        $$("#osChips .chip").forEach(c=>{ c.classList.remove("active"); c.setAttribute("aria-selected","false"); });
        ch.classList.add("active");
        ch.setAttribute("aria-selected","true");
        currentOS = ch.dataset.os;
        renderApps();
      }, {passive:true});
    });
    const defaultChip = $(`#osChips .chip[data-os="${userOS}"]`) || $(`#osChips .chip[data-os="all"]`);
    defaultChip.classList.add("active");
    defaultChip.setAttribute("aria-selected","true");
    $("#sortSelect").addEventListener("change", e=>{ sortBy = e.target.value; renderApps(); });

    renderApps();

const modal = $("#modal");
    const mTitle = $("#mTitle");
    const mShots = $("#mShots");
    const mDesc = $("#mDesc");
    const mMeta = $("#mMeta");
    const mActions = $("#mActions");
    const mClose = $("#mClose");

    function openModal(appId){
      const app = APPS.find(a=>a.id===appId);
      if (!app) return;
      mTitle.textContent = app.name;
      mDesc.textContent = app.tagline;
      mShots.innerHTML = app.shots.map(()=>`<div class="shot reveal"></div>`).join("");
      mMeta.innerHTML = `
        <span class="pill">Платформы: ${app.platforms.join(", ")}</span>
        <span class="pill">Рейтинг: ${app.rating}</span>
        <span class="pill">Скачивания: ${app.downloads.toLocaleString("ru-RU")}</span>
        <span class="pill">Обновлено: ${app.updated}</span>
        ${app.tags.map(t=>`<span class="badge">${t}</span>`).join("")}
      `;
      const primaryOS = bestOSForApp(app);
      const primaryURL = buildReleaseURL(app.ownerRepo, app.files[primaryOS]);
      mActions.innerHTML = `
        ${primaryURL ? `<a class="btn btn-solid ripple" href="${primaryURL}" download>Скачать (${primaryOS})</a>` : ``}
        ${app.platforms.filter(p=>p!==primaryOS).map(p=>{
          const u = buildReleaseURL(app.ownerRepo, app.files[p]);
          return u ? `<a class="btn ripple" href="${u}" download>Скачать (${p})</a>` : ``;
        }).join("")}
        ${app.github ? `<a class="btn ripple" target="_blank" rel="noopener" href="${app.github}">GitHub</a>`:``}
        ${app.site ? `<a class="btn ripple" target="_blank" rel="noopener" href="${app.site}">Сайт</a>`:``}
      `;
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      document.body.classList.add("no-scroll");
      $$(".reveal", mShots).forEach(el=> io.observe(el));
      mClose.focus();
      addRipple($$(".ripple", mActions));
    }
    
    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
      document.body.classList.remove("no-scroll");
    }
    
    mClose.addEventListener("click", closeModal);
    modal.addEventListener("click", (e)=>{ if (e.target === modal) closeModal(); });

    function bindAppCardEvents(){
      $$(".more-btn").forEach(btn=>{
        btn.addEventListener("click", (e)=>{ e.stopPropagation(); openModal(btn.dataset.id); });
      });
      $$(".app-card").forEach(card=>{
        card.addEventListener("click", (e)=>{
          if (e.target.closest("a")) return;
          openModal(card.dataset.id);
        });
        card.addEventListener("keydown", (e)=>{
          if (e.key === "Enter" || e.key === " ") { e.preventDefault(); openModal(card.dataset.id); }
        });
      });
    }

    // Portfolio
    const pf = $("#portfolioList");
    pf.innerHTML = PORTFOLIO.map(i=>`
      <div class="tl-item reveal mouse-shine">
        <div class="tl-card">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap">
            <b style="font-size:18px">${i.title}</b>
            <span class="badge">${i.year}</span>
          </div>
          <p style="margin:.6em 0; color:#d9caff">${i.desc}</p>
          <div class="stack">${i.stack.map(s=>`<span class="pill">${s}</span>`).join("")}</div>
        </div>
        <div class="shine"></div>
      </div>
    `).join("");
    $$(".tl-item.reveal").forEach(el=> io.observe(el));
    addMouseShine($$(".tl-item.mouse-shine"));

    // Reviews
    const reviewsTrack = $("#reviewsTrack");
    function stars(n){ return '<span class="rating">'+ '★'.repeat(n) + '☆'.repeat(5-n) + '</span>'; }
    reviewsTrack.innerHTML = REVIEWS.map(r=>`
      <div class="review reveal">
        <div class="who">
          <div class="avatar"></div>
          <div><b>${r.name}</b><div style="color:#cbb6ff; font-size:14px">${r.handle}</div></div>
        </div>
        <div style="margin-bottom:10px">${stars(r.stars)}</div>
        <p style="margin:0; color:#e7dcff; line-height:1.6">${r.text}</p>
      </div>
    `).join("");
    $$(".review.reveal").forEach(el=> io.observe(el));

    // Donate
    const donationLinks = $("#donationLinks");
    donationLinks.innerHTML = SITE.donate.map(d=>`<a class="btn ripple" target="_blank" rel="noopener" href="${d.href}">${d.label}</a>`).join("");
    addRipple($$("#donationLinks .btn"));
    
    const cryptoList = $("#cryptoList");
    cryptoList.innerHTML = SITE.crypto.map(c=>`
      <div class="copy ripple" data-addr="${c.addr}" data-label="${c.label}">
        <svg width="16" height="16" viewBox="0 0 24 24"><path fill="#a78bfa" d="M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1Zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Zm0 16H8V7h11v14Z"/></svg>
        <span>${c.label}: <b>${c.addr}</b></span>
      </div>
    `).join("");

    // QR demo
    const qr = $("#qrBox");
    qr.title = "Помести сюда курсор";
    qr.addEventListener("mousemove", (e)=>{
      const r = qr.getBoundingClientRect();
      const x = e.clientX - r.left, y = e.clientY - r.top;
      qr.style.background = `
        radial-gradient(90px 45px at ${x}px ${y}px, rgba(255,255,255,.35), transparent 43%),
        linear-gradient(135deg, #352563, #1a1330 45%, #2c1a55)
      `;
    });

    // Copy handlers
    $$("#cryptoList .copy").forEach(el=>{
      el.addEventListener("click", async ()=>{
        const addr = el.dataset.addr; const label = el.dataset.label;
        try{
          await navigator.clipboard.writeText(addr);
          el.style.borderColor = "rgba(167,139,250,.7)";
          el.innerHTML = `✔️ Скопировано ${label}: <b>${addr}</b>`;
          setTimeout(()=>{ 
            el.style.borderColor = "var(--border)"; 
            el.innerHTML = `
              <svg width="16" height="16" viewBox="0 0 24 24"><path fill="#a78bfa" d="M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1Zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Zm0 16H8V7h11v14Z"/></svg>
              <span>${label}: <b>${addr}</b></span>
            `; 
          }, 2000);
        }catch(e){ alert("Не удалось скопировать"); }
      });
    });

    // Contact
    const form = $("#contactForm");
    const mailto = $("#mailtoLink");
    function updateMailto(){
      const data = new FormData(form);
      const name = data.get("name")||"";
      const email = data.get("email")||"";
      const msg = data.get("msg")||"";
      const subject = encodeURIComponent(`Сообщение с сайта от ${name}`);
      const body = encodeURIComponent(`Имя: ${name}\nEmail: ${email}\n\n${msg}`);
      mailto.href = `mailto:you@example.com?subject=${subject}&body=${body}`;
    }
    form.addEventListener("input", updateMailto);
    form.addEventListener("submit", (e)=>{
      e.preventDefault();
      updateMailto();
      mailto.click();
    });
    
    // Social links
    const sWrap = $("#socialLinks");
    sWrap.innerHTML = SITE.social.map(s=>`<a class="pill" target="_blank" rel="noopener" href="${s.href}">${s.label}</a>`).join("");

    // Magnetic hover
    function magnetic(el, strength=20){
      el.addEventListener("mousemove", (e)=>{
        const r = el.getBoundingClientRect();
        const relX = e.clientX - r.left - r.width/2;
        const relY = e.clientY - r.top - r.height/2;
        el.style.transform = `translate(${relX/strength}px, ${relY/strength}px)`;
      });
      el.addEventListener("mouseleave", ()=> el.style.transform = "");
    }
    $$(".mag").forEach(el=> magnetic(el));

    // Mouse shine for cards
    function addMouseShine(nodes){
      nodes.forEach(el=>{
        const shine = el.querySelector('.shine');
        if (!shine) return;
        el.addEventListener('mousemove', (e)=>{
          const r = el.getBoundingClientRect();
          const x = e.clientX - r.left;
          const y = e.clientY - r.top;
          shine.style.setProperty('--mx', x+'px');
          shine.style.setProperty('--my', y+'px');
        });
      });
    }

    // Ripple effect
    function addRipple(nodes){
      nodes.forEach(el=>{
        el.addEventListener('click', function(e){
          const rect = this.getBoundingClientRect();
          const circle = document.createElement('span');
          const d = Math.max(rect.width, rect.height);
          circle.style.width = circle.style.height = d + 'px';
          circle.style.position = 'absolute';
          circle.style.left = (e.clientX - rect.left - d/2) + 'px';
          circle.style.top = (e.clientY - rect.top - d/2) + 'px';
          circle.style.background = 'radial-gradient(circle, rgba(255,255,255,.35) 10%, rgba(255,255,255,0) 60%)';
          circle.style.borderRadius = '50%';
          circle.style.pointerEvents = 'none';
          circle.style.transform = 'scale(0)';
          circle.style.opacity = '0.7';
          circle.style.transition = 'transform .45s ease, opacity .6s ease';
          circle.style.zIndex = '1';
          this.style.position = this.style.position || 'relative';
          this.appendChild(circle);
          requestAnimationFrame(()=>{ circle.style.transform='scale(1.8)'; circle.style.opacity='0'; });
          setTimeout(()=> circle.remove(), 600);
        });
      });
    }
    
    // Initial ripple attachments
    addRipple($$(".ripple, .btn-primary, .btn, .tab-btn, .chip, .copy"));

    // Confetti
    const canvas = $("#confetti");
    const ctx = canvas.getContext("2d");
    let confettiItems=[];
    let DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    
    function resizeCanvas(){
      canvas.width = innerWidth * DPR;
      canvas.height = innerHeight * DPR;
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);
    
    function shootConfetti(){
      const colors = ["#a78bfa","#8b5cf6","#6d28d9","#c4b5fd","#7c3aed","#b794f4"];
      for(let i=0;i<140;i++){
        confettiItems.push({
          x: Math.random()*innerWidth,
          y: -10,
          vx: (Math.random()-0.5)*3,
          vy: Math.random()*3+2,
          g: .06 + Math.random()*.04,
          s: Math.random()*6+4,
          c: colors[(Math.random()*colors.length)|0],
          a: 1,
          r: Math.random()*360
        });
      }
    }
    
    function confettiLoop(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      confettiItems.forEach(p=>{
        p.vy += p.g; p.x += p.vx; p.y += p.vy; p.r += 6; p.a -= .006;
        ctx.save();
        ctx.globalAlpha = Math.max(p.a,0);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.r*Math.PI/180);
        ctx.fillStyle = p.c;
        ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s);
        ctx.restore();
      });
      confettiItems = confettiItems.filter(p=> p.a>0 && p.y<innerHeight+40);
      requestAnimationFrame(confettiLoop);
    }
    confettiLoop();
    
    $("#btnThanks").addEventListener("click", shootConfetti);

    // Initial observers
    $$(".reveal").forEach(el => io.observe(el));
  </script>
</body>
</html>
